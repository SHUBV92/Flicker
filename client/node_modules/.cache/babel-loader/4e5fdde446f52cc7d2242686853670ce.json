{"ast":null,"code":"var _jsxFileName = \"/Users/shubindervirk/Desktop/Makers/Other_Projects/fragrance/client/src/Containers/Favourite/Favourite.js\";\nimport React, { Component } from \"react\";\nimport firebase, { provider, auth } from \"../../utils/firebase.js\"; // import \"./Favourite.css\";\n\nclass Favourite extends Component {\n  constructor() {\n    super();\n    this.state = {\n      currentItem: \"\",\n      username: \"\",\n      items: [],\n      user: null\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n    console.log(\"a\", e.target.name, \"b\", e.target.value);\n  }\n\n  logout() {\n    auth.signOut().then(() => {\n      this.setState({\n        user: null\n      });\n    });\n  }\n\n  login() {\n    auth.signInWithPopup(provider).then(result => {\n      const user = result.user;\n      this.setState({\n        user\n      });\n    });\n  } // Handle the submission of the form to Firebase\n\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const itemsRef = firebase.database().ref(\"items\");\n    const item = {\n      title: this.state.currentItem,\n      user: this.state.username\n    };\n    itemsRef.push(item);\n    console.log(\"items-Ref-2 : \", itemsRef);\n    this.setState({\n      currentItem: \"\",\n      username: \"\"\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrapper1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }, \"Favourite Candles\"), this.state.user ? /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    }, \"Log Out\") : /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 15\n      }\n    }, \"Log In\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"add-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      placeholder: \"Whats your name\",\n      onChange: this.handleChange,\n      value: this.state.username,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"currentItem\",\n      placeholder: \"Your Favourite Candle's\",\n      onChange: this.handleChange,\n      value: this.state.currentItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    }, \"Add Candle\")))));\n  }\n\n}\n\nexport default Favourite; //   Grab Items from Firebase when starting the Component\n// Working Code -------------------->\n// componentDidMount() {\n//   const itemsRef = firebase\n//     .database()\n//     .ref(\"items\");\n//   console.log(\"itemsRef: \", itemsRef);\n//   itemsRef.on(\n//     \"value\",\n//     snapshot => {\n//       let items1 = snapshot.val();\n//       const itemsArray =\n//         items1 && Object.entries(items1);\n//       let newState = [];\n//       itemsArray &&\n//         itemsArray.map(item => {\n//           newState.push({\n//             id: item[0],\n//             title: item[1].title,\n//             user: item[1].user\n//           });\n//         });\n// Working Code -------------------->\n// ['hello', 'bye', ['mongolia']]\n// items.map (item => [['493248394343ekjflea', [title: 'Betch', name: 'Shubs']]]\n// for(let [key, value] of Object.enteries(itemsArray))\n// for (let item in items1) {\n//   newState.push({\n//     id: items1[item].id,\n//     title: items1[item].title,\n//     user: items1[item].user\n//   });\n// }\n// Working Code -------------------->\n//       this.setState({\n//         items: newState\n//       });\n//     },\n//     error => {\n//       console.error(\"Error: \", error);\n//     }\n//   );\n// }\n// Working Code -------------------->","map":{"version":3,"sources":["/Users/shubindervirk/Desktop/Makers/Other_Projects/fragrance/client/src/Containers/Favourite/Favourite.js"],"names":["React","Component","firebase","provider","auth","Favourite","constructor","state","currentItem","username","items","user","handleChange","bind","handleSubmit","login","logout","e","setState","target","name","value","console","log","signOut","then","signInWithPopup","result","preventDefault","itemsRef","database","ref","item","title","push","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport firebase, {\n  provider,\n  auth\n} from \"../../utils/firebase.js\";\n// import \"./Favourite.css\";\n\nclass Favourite extends Component {\n  constructor() {\n    super();\n    this.state = {\n      currentItem: \"\",\n      username: \"\",\n      items: [],\n      user: null\n    };\n\n    this.handleChange = this.handleChange.bind(\n      this\n    );\n    this.handleSubmit = this.handleSubmit.bind(\n      this\n    );\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n    console.log(\n      \"a\",\n      e.target.name,\n      \"b\",\n      e.target.value\n    );\n  }\n\n  logout() {\n    auth.signOut().then(() => {\n      this.setState({\n        user: null\n      });\n    });\n  }\n\n  login() {\n    auth\n      .signInWithPopup(provider)\n      .then(result => {\n        const user = result.user;\n        this.setState({\n          user\n        });\n      });\n  }\n\n  // Handle the submission of the form to Firebase\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const itemsRef = firebase\n      .database()\n      .ref(\"items\");\n\n    const item = {\n      title: this.state.currentItem,\n      user: this.state.username\n    };\n    itemsRef.push(item);\n    console.log(\"items-Ref-2 : \", itemsRef);\n    this.setState({\n      currentItem: \"\",\n      username: \"\"\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"app\">\n        <header>\n          {/* Login Functionality  */}\n          <div className=\"wrapper1\">\n            <h1>Favourite Candles</h1>\n            {this.state.user ? (\n              <button onClick={this.logout}>\n                Log Out\n              </button>\n            ) : (\n              <button onClick={this.login}>\n                Log In\n              </button>\n            )}\n          </div>\n        </header>\n\n        {/* Add a new Candle */}\n        <div className=\"container\">\n          <section className=\"add-item\">\n            <form>\n              <input\n                type=\"text\"\n                name=\"username\"\n                placeholder=\"Whats your name\"\n                onChange={this.handleChange}\n                value={this.state.username}\n              />\n              <input\n                type=\"text\"\n                name=\"currentItem\"\n                placeholder=\"Your Favourite Candle's\"\n                onChange={this.handleChange}\n                value={this.state.currentItem}\n              />\n              <button onClick={this.handleSubmit}>\n                Add Candle\n              </button>\n            </form>\n          </section>\n        </div>\n      </div>\n    );\n  }\n}\nexport default Favourite;\n\n\n\n\n\n\n\n\n\n\n\n\n\n  //   Grab Items from Firebase when starting the Component\n  \n// Working Code -------------------->\n\n  // componentDidMount() {\n  //   const itemsRef = firebase\n  //     .database()\n  //     .ref(\"items\");\n\n  //   console.log(\"itemsRef: \", itemsRef);\n\n  //   itemsRef.on(\n  //     \"value\",\n  //     snapshot => {\n  //       let items1 = snapshot.val();\n\n  //       const itemsArray =\n  //         items1 && Object.entries(items1);\n\n  //       let newState = [];\n\n  //       itemsArray &&\n  //         itemsArray.map(item => {\n  //           newState.push({\n  //             id: item[0],\n  //             title: item[1].title,\n  //             user: item[1].user\n  //           });\n  //         });\n\n// Working Code -------------------->\n\n\n                    // ['hello', 'bye', ['mongolia']]\n\n                    // items.map (item => [['493248394343ekjflea', [title: 'Betch', name: 'Shubs']]]\n\n                    // for(let [key, value] of Object.enteries(itemsArray))\n\n                    // for (let item in items1) {\n                    //   newState.push({\n                    //     id: items1[item].id,\n                    //     title: items1[item].title,\n                    //     user: items1[item].user\n                    //   });\n                    // }\n\n  // Working Code -------------------->\n  //       this.setState({\n  //         items: newState\n  //       });\n  //     },\n  //     error => {\n  //       console.error(\"Error: \", error);\n  //     }\n  //   );\n  // }\n        // Working Code -------------------->\n"]},"metadata":{},"sourceType":"module"}